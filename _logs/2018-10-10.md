---
title: "2018-10-10 日志"
---

# 计划

- [x] 抽空继续看GitPro的Internal部分，昨天没有看
- [x] Hikey960Linux 内核解决
- [ ] Hikey开发板验证Android，OP-TEE-Android

# 问题
- [ ] Failed mounting rootfs on HiKey960 board with Hynix UFS flash  
  可能是Linux内核的原因:  
  [https://discuss.96boards.org/t/failed-mounting-rootfs-on-hikey960-board-with-hynix-ufs-flash/4794](https://discuss.96boards.org/t/failed-mounting-rootfs-on-hikey960-board-with-hynix-ufs-flash/4794)  
  [https://android.googlesource.com/kernel/hikey-linaro/+/366d8a78174a8be6965909e94bbb81cb67f9a28a%5E%21/#F0](https://android.googlesource.com/kernel/hikey-linaro/+/366d8a78174a8be6965909e94bbb81cb67f9a28a%5E%21/#F0)

- [ ] Hikey960Linux 内核解决，使用[这个内核](https://android.googlesource.com/kernel/hikey-linaro/+/android-hikey-linaro-4.9)，但是又报USB3.0驱动问题

# 记录
1. HikeyAndroid源码编译，虽然UART3输出一直循环，但是还是能进去桌面，HDMI也是有输出的
2. `git hash-object`和`sha1`好像还是有点区别的
   ![git hash-object和sha1](/assets/images/Screenshot from 2018-10-10 14-19-09.png)  
   区别如下：例如blob objects
   ```
   content = "what is up, doc?"
   header = "blob #{content.length}\0"
   store = header + content
   sha1 = Digest::SHA1.hexdigest(store)
   
   zlib_content = Zlib::Deflate.deflate(store)
   path = '.git/objects/' + sha1[0,2] + '/' + sha1[2,38]
   FileUtils.mkdir_p(File.dirname(path))
   File.open(path, 'w') { |f| f.write zlib_content }

   git cat-file -p <sha-1>
   what is up, doc?
   ```
   sha1值是根据Object类型和内容digest出来的，存的内容是zlib压缩后的
